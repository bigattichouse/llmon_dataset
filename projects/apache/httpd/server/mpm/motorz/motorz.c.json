{"module":"motorz.c","summary":"This module implements the 'motorz' multi-processing module (MPM) for Apache HTTP Server. It manages server processes, worker threads, and event-based connection handling with polling mechanisms to efficiently process HTTP requests.","logs":[{"function":"motorz_io_timeout_cb","message_template":"io timeout hit (?) scon: %pp, c: %pp","reason":"Logs when a connection timeout occurs, indicating the server had to forcibly close a connection that took too long","resolution":"Check for network issues or slow clients causing connections to hang. May require increasing timeout values if legitimate connections are taking longer than expected."},{"function":"motorz_io_setup_conn","message_template":"motorz_io_setup_conn(): entered","reason":"Debug log indicating entry into the connection setup function","resolution":"Informational log, no resolution required"},{"function":"motorz_io_setup_conn","message_template":"motorz_io_setup_conn(): did pre-conn","reason":"Debug log indicating pre-connection processing completed","resolution":"Informational log, no resolution required"},{"function":"motorz_io_setup_conn","message_template":"motorz_io_setup_conn: connection aborted","reason":"Logs when a connection setup is aborted due to an error during pre-connection processing","resolution":"Check client connection issues or configuration problems with virtual hosts that might cause connection aborts during setup"},{"function":"motorz_io_setup_conn","message_template":"motorz_io_setup_conn: motorz_io_process status: %d","reason":"Logs the status code returned by motorz_io_process after connection setup","resolution":"If non-zero status is reported, check for connection processing errors based on the specific status code"},{"function":"motorz_io_accept","message_template":"motorz_io_accept(): entered","reason":"Debug log indicating entry into the connection accept function","resolution":"Informational log, no resolution required"},{"function":"motorz_io_accept","message_template":"motorz_io_accept failed","reason":"Critical error when accepting a new connection fails","resolution":"Check system resources like file descriptors, memory, and network stack. May indicate the server is overloaded or configuration limits are too restrictive."},{"function":"motorz_io_accept","message_template":"accept() on client socket failed","reason":"Debug log for non-fatal accept errors on client socket","resolution":"Usually temporary issue that resolves itself; check for socket-related system limits if this appears frequently"},{"function":"motorz_io_accept","message_template":"motorz_io_accept(): exited: %d","reason":"Debug log indicating exit from accept function with status code","resolution":"Informational log, no resolution required unless non-zero status indicates an error"},{"function":"motorz_timer_invoke","message_template":"motorz_timer_invoke(): entered","reason":"Debug log indicating entry into timer invocation function","resolution":"Informational log, no resolution required"},{"function":"motorz_timer_invoke","message_template":"motorz_timer_invoke(): exited","reason":"Debug log indicating exit from timer invocation function","resolution":"Informational log, no resolution required"},{"function":"motorz_timer_event_process","message_template":"motorz_timer_event_process(): entered","reason":"Debug log indicating entry into timer event processing","resolution":"Informational log, no resolution required"},{"function":"motorz_io_invoke","message_template":"motorz_io_invoke(): entered","reason":"Debug log indicating entry into I\/O invocation function","resolution":"Informational log, no resolution required"},{"function":"motorz_io_invoke","message_template":"motorz_io_invoke: motorz_io_process failed (?)","reason":"Logs when the I\/O processing function returns an error during event handling","resolution":"Check for connection issues or system resource problems that might cause I\/O processing to fail"},{"function":"motorz_register_timeout","message_template":"motorz_register_timer(): insert ELEM: %pp","reason":"Debug log indicating insertion of a timer element into the timer ring","resolution":"Informational log, no resolution required"},{"function":"motorz_io_process","message_template":"motorz_io_process(): entered","reason":"Debug log indicating entry into I\/O processing function","resolution":"Informational log, no resolution required"},{"function":"motorz_io_process","message_template":"motorz_io_process(): apr_pollset_remove","reason":"Debug log indicating an attempt to remove a descriptor from the pollset","resolution":"Informational log, no resolution required"},{"function":"motorz_io_process","message_template":"motorz_io_process: apr_pollset_remove failure","reason":"Error log when removing a descriptor from the pollset fails","resolution":"Check system limits and resources; may indicate problems with the event handling subsystem"},{"function":"motorz_io_process","message_template":"motorz_io_process(): Set to CONN_STATE_PROCESSING","reason":"Debug log indicating connection state change to processing","resolution":"Informational log, no resolution required"},{"function":"motorz_io_process","message_template":"motorz_io_process(): CONN_STATE_PROCESSING","reason":"Debug log indicating the connection is in processing state","resolution":"Informational log, no resolution required"},{"function":"motorz_io_process","message_template":"motorz_io_process(): !aborted","reason":"Debug log indicating the connection has not been aborted","resolution":"Informational log, no resolution required"},{"function":"motorz_io_process","message_template":"motorz_io_process(): aborted","reason":"Debug log indicating the connection has been aborted","resolution":"Informational log, no resolution required unless aborted connections occur frequently"},{"function":"motorz_io_process","message_template":"motorz_io_process(): CONN_STATE_WRITE_COMPLETION","reason":"Debug log indicating connection state change to write completion","resolution":"Informational log, no resolution required"},{"function":"motorz_io_process","message_template":"apr_pollset_add: failed in write completion","reason":"Warning log when adding a descriptor to the pollset for write completion fails","resolution":"Check system limits on file descriptors and memory. May require increasing system limits if this occurs frequently."},{"function":"motorz_io_process","message_template":"motorz_io_process(): CONN_STATE_LINGER","reason":"Debug log indicating connection state change to linger","resolution":"Informational log, no resolution required"},{"function":"motorz_io_process","message_template":"motorz_io_process(): CONN_STATE_KEEPALIVE","reason":"Debug log indicating connection state change to keep-alive","resolution":"Informational log, no resolution required"},{"function":"motorz_io_process","message_template":"process_socket: apr_pollset_add failure in read request line","reason":"Error log when adding a descriptor to the pollset for reading request line fails","resolution":"Check system limits on file descriptors and memory. May require increasing system limits or reducing MaxClients\/MaxRequestWorkers."},{"function":"motorz_pollset_cb","message_template":"Call to motorz_io_callback() failed","reason":"Critical error when the I\/O callback function fails during event processing","resolution":"Check for system resource issues or bugs in event handling code. May require server restart if persistent."},{"function":"motorz_setup_workers","message_template":"motorz_setup_workers: apr_thread_pool_create with %d threads failed","reason":"Critical error when creating the worker thread pool fails","resolution":"Check system limits on threads and memory. May require reducing ThreadsPerChild or increasing system thread limits."},{"function":"motorz_setup_pollset","message_template":"motorz_setup_pollset: apr_pollset_create_ex using %s","reason":"Debug log indicating which polling mechanism is being used","resolution":"Informational log, no resolution required"},{"function":"motorz_setup_pollset","message_template":"motorz_setup_pollset: apr_pollset_create_ex failed for all possible backends!","reason":"Informational log when creating the pollset with optimized backends fails","resolution":"Check if better polling mechanisms (kqueue, epoll, etc.) are available on your system for improved performance"},{"function":"motorz_setup_pollset","message_template":"motorz_setup_pollset: apr_pollset_create failed for all possible backends!","reason":"Critical error when creating the pollset with any backend fails","resolution":"Check system limits and resources. May indicate severe resource constraints or OS issues."},{"function":"motorz_setup_pollset","message_template":"motorz_setup_pollset: Using %s","reason":"Debug log indicating which polling backend is being used","resolution":"Informational log, no resolution required"},{"function":"accept_mutex_on","message_template":"couldn't grab the accept mutex","reason":"Error when a child process fails to acquire the accept mutex","resolution":"Check system resources and lock files. May indicate inter-process synchronization issues."},{"function":"accept_mutex_off","message_template":"couldn't release the accept mutex","reason":"Error when a child process fails to release the accept mutex","resolution":"Check system resources and lock files. May indicate inter-process synchronization issues or bugs."},{"function":"child_main","message_template":"Couldn't initialize cross-process lock in child (%s) (%s)","reason":"Critical error when initializing mutex in child process","resolution":"Check permissions on lock files and system resources. May require checking system IPC limits."},{"function":"child_main","message_template":"child_main: motorz_setup_workers failed","reason":"Critical error when setting up worker threads in child process","resolution":"Check system limits on threads and memory. May require reducing ThreadsPerChild or increasing system thread limits."},{"function":"child_main","message_template":"Couldn't setup pollset in child; check system or user limits","reason":"Critical error when setting up the pollset in child process","resolution":"Check system limits on file descriptors and memory. May require increasing these limits or reducing server load."},{"function":"child_main","message_template":"apr_socket_opt_set(APR_SO_NONBLOCK = 1) failed on %pI","reason":"Critical error when setting non-blocking mode on a listener socket","resolution":"Check system socket configuration and resources. May indicate OS\/network stack issues."},{"function":"child_main","message_template":"Couldn't add listener to pollset; check system or user limits","reason":"Critical error when adding a listener socket to the pollset","resolution":"Check system limits on file descriptors. May require increasing these limits or reducing the number of listeners."},{"function":"child_main","message_template":"motorz_main_loop: apr_pollcb_poll failed","reason":"Critical error when the main polling operation fails in child process","resolution":"Check system resources and polling mechanism. May indicate OS issues with event notification mechanisms."},{"function":"make_child","message_template":"fork: Unable to fork new process","reason":"Error when the server fails to fork a new child process","resolution":"Check system process limits and available memory. May require reducing StartServers or increasing system limits."},{"function":"make_child","message_template":"processor unbind failed","reason":"Debug log when unbinding a child process from a specific processor fails (AIX specific)","resolution":"Informational log specific to AIX systems, usually not critical"},{"function":"motorz_run","message_template":"%s configured -- resuming normal operations","reason":"Notice log when the server starts or resumes normal operations","resolution":"Informational log, no resolution required"},{"function":"motorz_run","message_template":"Server built: %s","reason":"Informational log showing when the server was built","resolution":"Informational log, no resolution required"},{"function":"motorz_run","message_template":"Accept mutex: %s (default: %s)","reason":"Debug log showing which accept mutex mechanism is being used","resolution":"Informational log, no resolution required"},{"function":"motorz_run","message_template":"Ignoring fatal error in child of previous generation (pid %ld).","reason":"Warning log when a fatal error occurs in a child process from a previous generation during restart","resolution":"Usually can be ignored during restarts; check logs for the original error if this appears during normal operation"},{"function":"motorz_run","message_template":"long lost child came home! (pid %ld)","reason":"Warning log when a child process that wasn't being tracked exits","resolution":"Check for process management issues or bugs if this appears frequently; occasional occurrences during restarts are normal"},{"function":"motorz_run","message_template":"killpg SIGTERM","reason":"Warning log when killing the process group with SIGTERM fails","resolution":"Check process permissions and state; usually transient during shutdown"},{"function":"motorz_run","message_template":"caught SIGTERM, shutting down","reason":"Notice log when the server catches SIGTERM and begins shutdown","resolution":"Informational log, no resolution required; normal during server shutdown"},{"function":"motorz_run","message_template":"caught %s, shutting down gracefully","reason":"Notice log when the server catches a signal to shut down gracefully","resolution":"Informational log, no resolution required; normal during graceful shutdown"},{"function":"motorz_run","message_template":"Graceful restart requested, doing restart","reason":"Notice log when a graceful restart is requested","resolution":"Informational log, no resolution required; normal during graceful restart"},{"function":"motorz_run","message_template":"killpg SIGHUP","reason":"Warning log when killing the process group with SIGHUP fails","resolution":"Check process permissions and state; usually transient during restart"},{"function":"motorz_run","message_template":"SIGHUP received. Attempting to restart","reason":"Notice log when the server catches SIGHUP and begins restart","resolution":"Informational log, no resolution required; normal during server restart"},{"function":"motorz_open_logs","message_template":"no listening sockets available, shutting down","reason":"Alert log when no listening sockets are available at startup","resolution":"Check port bindings, permissions, and whether the ports are already in use by another process"},{"function":"motorz_open_logs","message_template":"could not duplicate listeners","reason":"Critical error when duplicating listener sockets fails","resolution":"Check system resources and file descriptor limits; may indicate severe resource constraints"},{"function":"motorz_open_logs","message_template":"could not open pipe-of-death","reason":"Critical error when creating the pipe for child process shutdown fails","resolution":"Check system pipe limits and available file descriptors; may indicate resource constraints"},{"function":"motorz_open_logs","message_template":"could not create accept mutex","reason":"Critical error when creating the accept mutex fails","resolution":"Check system IPC resources and permissions; may require checking mutex implementation-specific issues"},{"function":"motorz_pre_config","message_template":"apr_proc_detach failed","reason":"Critical error when detaching the process (daemonizing) fails","resolution":"Check system capabilities for process detachment; may indicate OS restrictions or resource issues"},{"function":"motorz_pre_config","message_template":"motorz_pre_config: apr_thread_mutex_create failed","reason":"Critical error when creating the core mutex fails","resolution":"Check system thread capabilities and resources; may indicate severe resource constraints"},{"function":"motorz_check_config","message_template":"WARNING: StartServers of %d exceeds compile-time limit of %d servers, decreasing to %d.","reason":"Warning log when configured StartServers exceeds compile-time limit","resolution":"Reduce StartServers in configuration to avoid automatic adjustment; consider recompiling with higher limits if needed"},{"function":"motorz_check_config","message_template":"StartServers of %d exceeds compile-time limit of %d, decreasing to match","reason":"Warning log when configured StartServers exceeds compile-time limit (non-startup context)","resolution":"Reduce StartServers in configuration to avoid automatic adjustment; consider recompiling with higher limits if needed"},{"function":"motorz_check_config","message_template":"WARNING: StartServers of %d not allowed, increasing to 1.","reason":"Warning log when configured StartServers is less than 1","resolution":"Increase StartServers to at least 1 in configuration to avoid automatic adjustment"},{"function":"motorz_check_config","message_template":"StartServers of %d not allowed, increasing to 1","reason":"Warning log when configured StartServers is less than 1 (non-startup context)","resolution":"Increase StartServers to at least 1 in configuration to avoid automatic adjustment"},{"function":"motorz_check_config","message_template":"WARNING: ThreadLimit of %d exceeds compile-time limit of %d threads, decreasing to %d.","reason":"Warning log when configured ThreadLimit exceeds compile-time limit","resolution":"Reduce ThreadLimit in configuration to avoid automatic adjustment; consider recompiling with higher limits if needed"},{"function":"motorz_check_config","message_template":"ThreadLimit of %d exceeds compile-time limit of %d, decreasing to match","reason":"Warning log when configured ThreadLimit exceeds compile-time limit (non-startup context)","resolution":"Reduce ThreadLimit in configuration to avoid automatic adjustment; consider recompiling with higher limits if needed"},{"function":"motorz_check_config","message_template":"WARNING: ThreadLimit of %d not allowed, increasing to 1.","reason":"Warning log when configured ThreadLimit is less than 1","resolution":"Increase ThreadLimit to at least 1 in configuration to avoid automatic adjustment"},{"function":"motorz_check_config","message_template":"ThreadLimit of %d not allowed, increasing to 1","reason":"Warning log when configured ThreadLimit is less than 1 (non-startup context)","resolution":"Increase ThreadLimit to at least 1 in configuration to avoid automatic adjustment"},{"function":"motorz_check_config","message_template":"WARNING: ThreadsPerChild of %d exceeds run-time limit of %d servers, decreasing to %d.","reason":"Warning log when configured ThreadsPerChild exceeds runtime ThreadLimit","resolution":"Reduce ThreadsPerChild or increase ThreadLimit in configuration to avoid automatic adjustment"},{"function":"motorz_check_config","message_template":"ThreadsPerChild of %d exceeds run-time limit of %d, decreasing to match","reason":"Warning log when configured ThreadsPerChild exceeds runtime ThreadLimit (non-startup context)","resolution":"Reduce ThreadsPerChild or increase ThreadLimit in configuration to avoid automatic adjustment"},{"function":"motorz_check_config","message_template":"WARNING: ThreadsPerChild of %d not allowed, increasing to 1.","reason":"Warning log when configured ThreadsPerChild is less than 1","resolution":"Increase ThreadsPerChild to at least 1 in configuration to avoid automatic adjustment"},{"function":"motorz_check_config","message_template":"ThreadsPerChild of %d not allowed, increasing to 1","reason":"Warning log when configured ThreadsPerChild is less than 1 (non-startup context)","resolution":"Increase ThreadsPerChild to at least 1 in configuration to avoid automatic adjustment"}],"project":"apache\/httpd"}