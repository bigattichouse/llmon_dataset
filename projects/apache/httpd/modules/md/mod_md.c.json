{"module":"mod_md.c","summary":"Module for managing domain certificates through ACME protocol (e.g., Let's Encrypt). It handles certificate provisioning, renewal, and HTTPS enforcement with optional HSTS for managed domains.","logs":[{"function":"on_event","message_template":"%s: rate limiting notification about '%s'","reason":"Rate limiting is occurring for notifications of the same reason within a specified time window","resolution":"This is an informational message. If you see too many notifications, you may want to adjust notification timing parameters"},{"function":"notify","message_template":"MDNotifyCmd %s failed with exit code %d.","reason":"The notification command specified in the configuration failed to execute properly","resolution":"Check the command path and permissions. Ensure the command can be executed by the Apache process user"},{"function":"notify","message_template":"The Managed Domain %s has been setup and changes will be activated on next (graceful) server restart.","reason":"A managed domain has been successfully set up and is ready for activation","resolution":"Informational message. Restart the server to activate the new certificate"},{"function":"notify","message_template":"MDMessageCmd %s failed with exit code %d.","reason":"The message command specified in the configuration failed to execute properly","resolution":"Check the command path and permissions. Ensure the command can be executed by the Apache process user"},{"function":"store_file_ev","message_template":"store event=%d on %s %s (group %d)","reason":"A file system event occurred in the certificate store","resolution":"Informational log, no resolution required"},{"function":"setup_store","message_template":"setup store for %s","reason":"Setting up the certificate store directory","resolution":"Informational log, no resolution required unless error occurs"},{"function":"setup_store","message_template":"setup challenges directory","reason":"Failed to set up the directory needed for ACME challenges","resolution":"Check directory permissions and ensure Apache process has write access to the certificate store directories"},{"function":"check_coverage","message_template":"Virtual Host %s:%d matches Managed Domain '%s', but the name\/alias %s itself is not managed. A requested MD certificate will not match ServerName.","reason":"A VirtualHost is using a domain that matches a managed domain, but the specific name isn't covered by the certificate","resolution":"Add the domain to the managed domain or enable transitive mode to automatically include it"},{"function":"md_cover_server","message_template":"md[%s]: auto add, covers name %s","reason":"Logging that a domain name is being automatically covered by a managed domain","resolution":"Informational log, no resolution required"},{"function":"md_cover_server","message_template":"md[%s]: auto add, covers alias %s","reason":"Logging that a domain alias is being automatically covered by a managed domain","resolution":"Informational log, no resolution required"},{"function":"detect_supported_protocols","message_template":"server seems%s reachable via http: and%s reachable via https:","reason":"Reports server protocol accessibility detected during initialization","resolution":"Informational log. If expected protocols are not available, check your Listen directives and port availability"},{"function":"get_public_https_server","message_template":"%s: no https server_rec found for %s","reason":"No HTTPS server configuration could be found for the specified domain","resolution":"Ensure you have properly configured SSL\/TLS VirtualHosts for the domain"},{"function":"get_public_https_server","message_template":"%s: https server_rec for %s does not have protocol %s enabled","reason":"The found HTTPS server configuration does not have the required protocol enabled","resolution":"Enable the ACME-TLS\/1 protocol in the SSL\/TLS configuration for the domain to support TLS-ALPN-01 challenges"},{"function":"link_md_to_servers","message_template":"Server %s:%d matches md %s (config %s, match-mode=%d) for domain %s, has now %d MDs","reason":"A managed domain is being linked to a server configuration","resolution":"Informational log, no resolution required"},{"function":"link_md_to_servers","message_template":"%s: added contact %s","reason":"A contact email address has been added to the managed domain","resolution":"Informational log, no resolution required"},{"function":"merge_mds_with_conf","message_template":"two Managed Domains have an overlap in domain '%s', first definition in %s(line %d), second in %s(line %d)","reason":"There is a conflict between managed domains that both try to include the same domain name","resolution":"Remove the duplicate domain from one of the managed domains or merge the configurations to avoid the overlap"},{"function":"merge_mds_with_conf","message_template":"The Managed Domain '%s' needs one MDCertificateKeyFile for each MDCertificateFile.","reason":"Certificate files are specified but matching key files are missing","resolution":"Specify matching key files for each certificate file in the configuration"},{"function":"merge_mds_with_conf","message_template":"The Managed Domain '%s' has MDCertificateKeyFile(s) but no MDCertificateFile.","reason":"Key files are specified but matching certificate files are missing","resolution":"Specify matching certificate files for each key file in the configuration"},{"function":"merge_mds_with_conf","message_template":"Completed MD[%s, CA=%s, Proto=%s, Agreement=%s, renew-mode=%d renew_window=%s, warn_window=%s","reason":"The managed domain configuration has been completed with all parameters","resolution":"Informational log, no resolution required"},{"function":"check_invalid_duplicates","message_template":"checking duplicate ssl assignments","reason":"The system is checking for duplicate SSL assignments to virtual hosts","resolution":"Informational log, no resolution required"},{"function":"check_invalid_duplicates","message_template":"conflict: %d MDs match to SSL VirtualHost %s, there can at most be one.","reason":"Multiple managed domains are assigned to the same SSL VirtualHost, which is not supported","resolution":"Reconfigure your managed domains to ensure each SSL VirtualHost is only covered by one managed domain"},{"function":"check_usage","message_template":"MD %s does not match any VirtualHost with 'SSLEngine on', but is configured to require https. This cannot work.","reason":"A managed domain is set to require HTTPS but no matching SSL VirtualHost is configured","resolution":"Either add an SSL VirtualHost for this domain or disable the HTTPS requirement"},{"function":"check_usage","message_template":"No VirtualHost matches Managed Domain %s","reason":"A managed domain is defined but not used in any VirtualHost","resolution":"Either remove the unused managed domain or add a VirtualHost that uses it"},{"function":"init_cert_watch_status","message_template":"in error state, unable to drive forward. This indicates an incomplete or inconsistent configuration. Please check the log for warnings in this regard.","reason":"The managed domain is in an error state and cannot proceed with certificate management","resolution":"Review logs for earlier warnings or errors about this domain and fix the configuration issues"},{"function":"init_cert_watch_status","message_template":"md[%s]: %s","reason":"Error message when initializing certificate watch status for a managed domain","resolution":"Check the specific error message and address the underlying configuration issue"},{"function":"md_post_config_before_ssl","message_template":"initializing post config dry run","reason":"The module is performing an initial configuration check dry run","resolution":"Informational log, no resolution required"},{"function":"md_post_config_before_ssl","message_template":"mod_md (v%s), initializing...","reason":"The module is initializing with the specified version","resolution":"Informational log, no resolution required"},{"function":"md_post_config_before_ssl","message_template":"setup md registry","reason":"Error setting up the managed domain registry","resolution":"Check preceding error messages and ensure the configuration is correct"},{"function":"md_post_config_before_ssl","message_template":"setup ocsp registry","reason":"Error setting up the OCSP registry","resolution":"Check preceding error messages and ensure the configuration is correct"},{"function":"md_post_config_before_ssl","message_template":"unable to obtain global registry lock, renewed certificates may remain inactive on this httpd instance!","reason":"Failed to get a lock on the registry, which might lead to inconsistent state","resolution":"Check file permissions and ensure no other process is locking the registry"},{"function":"md_post_config_before_ssl","message_template":"syncing %d mds to registry","reason":"Error occurred while syncing managed domains to the registry","resolution":"Check preceding error messages and ensure the configuration is correct"},{"function":"md_post_config_after_ssl","message_template":"md{%s}: auto_add","reason":"Tracing the auto-add operation for a managed domain","resolution":"Informational log, no resolution required"},{"function":"md_post_config_after_ssl","message_template":"md{%s}: check_usage","reason":"Tracing the usage check for a managed domain","resolution":"Informational log, no resolution required"},{"function":"md_post_config_after_ssl","message_template":"md{%s}: sync_finish","reason":"Tracing the completion of sync for a managed domain","resolution":"Informational log, no resolution required"},{"function":"md_post_config_after_ssl","message_template":"md[%s]: error syncing to store","reason":"An error occurred while syncing a managed domain to the store","resolution":"Check store permissions and preceding error messages"},{"function":"md_post_config_after_ssl","message_template":"init_cert_watch","reason":"Tracing the initialization of certificate watching","resolution":"Informational log, no resolution required"},{"function":"md_post_config_after_ssl","message_template":"cleanup challenges","reason":"Tracing the cleanup of challenge files","resolution":"Informational log, no resolution required"},{"function":"md_post_config_after_ssl","message_template":"%d out of %d mds need watching","reason":"Informing about the number of managed domains that need to be watched for renewal","resolution":"Informational log, no resolution required"},{"function":"md_post_config_after_ssl","message_template":"no mds to supervise","reason":"No managed domains need to be supervised for certificate renewal","resolution":"Informational log, no resolution required"},{"function":"md_post_config_after_ssl","message_template":"no ocsp to manage","reason":"No OCSP responses need to be managed","resolution":"Informational log, no resolution required"},{"function":"md_post_config_after_ssl","message_template":"post_config done","reason":"Post-configuration processing is complete","resolution":"Informational log, no resolution required"},{"function":"md_protocol_propose","message_template":"proposing protocol '%s'","reason":"The module is proposing a protocol for a connection","resolution":"Informational log, no resolution required"},{"function":"md_protocol_switch","message_template":"switching protocol '%s'","reason":"The module is switching to a different protocol for a connection","resolution":"Informational log, no resolution required"},{"function":"make_fallback_cert","message_template":"%s: make fallback %s certificate","reason":"Creating a fallback self-signed certificate for a managed domain","resolution":"Informational log, no resolution required unless an error occurs"},{"function":"get_certificates","message_template":"get_certificates called for vhost %s.","reason":"A request for certificates for a virtual host is being processed","resolution":"Informational log, no resolution required"},{"function":"get_certificates","message_template":"asked for certificate of server %s which has no md config","reason":"A certificate was requested for a server without managed domain configuration","resolution":"Informational log. If you expected this server to use managed certificates, check your configuration"},{"function":"get_certificates","message_template":"conflict: %d MDs match Virtualhost %s which uses SSL, however there can be at most 1.","reason":"Multiple managed domains are assigned to the same SSL VirtualHost","resolution":"Reconfigure your managed domains to ensure each SSL VirtualHost is only covered by one managed domain"},{"function":"get_certificates","message_template":"retrieving credentials for MD %s (%s)","reason":"Retrieving certificate credentials for a managed domain","resolution":"Informational log, no resolution required unless an error occurs"},{"function":"get_certificates","message_template":"%s: providing %s fallback certificate for server %s","reason":"Providing a fallback certificate for a server because a production certificate is not available","resolution":"Temporary fallback certificate in use. Wait for the regular certificate to be obtained or check for errors in the certificate acquisition process"},{"function":"get_certificates","message_template":"%s[state=%d]: providing certificates for server %s","reason":"Providing certificates for a server from a managed domain","resolution":"Informational log, no resolution required"},{"function":"md_add_cert_files","message_template":"hook ssl_add_cert_files for %s","reason":"The SSL add certificate files hook is being processed for a server","resolution":"Informational log, no resolution required"},{"function":"md_add_cert_files","message_template":"host '%s' is covered by a Managed Domain, but certificate\/key files are already configured for it (most likely via SSLCertificateFile).","reason":"A host is configured with both manual certificates and managed domain certificates","resolution":"Consider removing the explicit SSLCertificateFile directives since the managed domain will handle certificates automatically"},{"function":"md_add_cert_files","message_template":"host '%s' is covered by a Managed Domain and is being provided with %d key\/certificate files.","reason":"A host is being provided with certificates from a managed domain","resolution":"Informational log, no resolution required"},{"function":"md_add_fallback_cert_files","message_template":"hook ssl_add_fallback_cert_files for %s","reason":"The SSL add fallback certificate files hook is being processed for a server","resolution":"Informational log, no resolution required"},{"function":"md_answer_challenge","message_template":"Answer challenge[tls-alpn-01] for %s","reason":"Processing a TLS-ALPN-01 challenge for a domain","resolution":"Informational log, no resolution required"},{"function":"md_answer_challenge","message_template":"Found challenge cert %s, key %s for %s","reason":"Found the certificate and key for answering a TLS-ALPN-01 challenge","resolution":"Informational log, no resolution required"},{"function":"md_answer_challenge","message_template":"%s: unknown tls-alpn-01 challenge host","reason":"A TLS-ALPN-01 challenge was received for an unknown host","resolution":"This could be normal if the challenge is for a domain not managed by this server, or it might indicate misconfiguration if you expected this domain to be managed"},{"function":"md_http_challenge_pr","message_template":"access inside \/.well-known\/acme-challenge for %s%s","reason":"An HTTP request to the ACME challenge directory is being processed","resolution":"Informational log, no resolution required"},{"function":"md_http_challenge_pr","message_template":"loading challenge for %s (%s)","reason":"Loading a challenge response for a domain","resolution":"Informational log, no resolution required"},{"function":"md_http_challenge_pr","message_template":"loading challenge %s from store","reason":"Error loading a challenge response from the store","resolution":"Check file permissions and ensure the challenge was properly provisioned"},{"function":"md_hooks","message_template":"installing hooks","reason":"The module is installing its hooks into the Apache server","resolution":"Informational log, no resolution required"},{"function":"md_hooks","message_template":"This version of mod_md requires Apache httpd 2.4.48 or newer.","reason":"The module version is incompatible with the running Apache version","resolution":"Upgrade Apache to version 2.4.48 or newer, or use an older version of mod_md compatible with your Apache version"}],"project":"apache\/httpd"}