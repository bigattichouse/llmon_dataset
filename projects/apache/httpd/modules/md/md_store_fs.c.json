{"module":"md_store_fs.c","summary":"This module provides a file system-based implementation of the MD (Managed Domain) store for Apache httpd mod_md. It handles storage, retrieval, and management of certificates, private keys, and related files, with operations for locking, permissions, archiving, and version migration.","logs":[{"function":"rename_pkey","message_template":"renaming %s\/%s to %s","reason":"Logs when a private key file is being renamed during migration or key management","resolution":"This is an informational message, no resolution required unless the operation fails"},{"function":"read_store_file","message_template":"version too new: %f","reason":"Occurs when the store format version is newer than what this version of the software supports","resolution":"Downgrade the store format or upgrade the software to a version that supports this store format"},{"function":"read_store_file","message_template":"missing key: %s","reason":"The store JSON file is missing a required key, likely corrupted or invalid","resolution":"Restore from backup or recreate the store by removing the corrupted file"},{"function":"read_store_file","message_template":"key length unexpected: %","reason":"The encryption key in the store file has an unexpected length","resolution":"The store may be corrupted or tampered with. Restore from backup or recreate the store"},{"function":"read_store_file","message_template":"migrating store v1 -> v2","reason":"The store is being migrated from version 1 to version 2 format","resolution":"Informational message, no action needed unless migration fails"},{"function":"read_store_file","message_template":"migrating store v2 -> v3","reason":"The store is being migrated from version 2 to version 3 format","resolution":"Informational message, no action needed unless migration fails"},{"function":"read_store_file","message_template":"migrated store","reason":"Confirms successful migration of the store to a newer version","resolution":"Informational message, no action needed"},{"function":"setup_store_file","message_template":"The central store file md\/md_store.json seems to exist, but its content are not readable as JSON. Either it got somehow corrupted or the store directory was configured for a location with a foreign md_store.json file. Either way, it is unclear how to proceeed. You should either restore the correct file\/location or clean the directory so it gets initialized again.","reason":"The central store file exists but is corrupted or not valid JSON","resolution":"Either restore the file from backup or remove it so the store can be reinitialized"},{"function":"md_store_fs_init","message_template":"store directory does not exist, creating %s","reason":"The store directory doesn't exist and will be created","resolution":"Informational message, no action needed unless creation fails"},{"function":"md_store_fs_init","message_template":"not a plain directory, maybe a symlink? %s","reason":"The store path exists but is not a plain directory, might be a symlink","resolution":"Verify that the symlink points to a valid location or use a real directory path instead"},{"function":"md_store_fs_init","message_template":"init fs store at %s","reason":"Initialization of the file system store at the specified path","resolution":"Informational message, no action needed unless initialization fails"},{"function":"fs_fload","message_template":"loading type %d from %s","reason":"Debug information about loading data of a specific type from a file","resolution":"Informational message for debugging, no action needed"},{"function":"mk_group_dir","message_template":"not a directory, creating %s","reason":"A required directory doesn't exist and will be created","resolution":"Informational message, no action needed unless creation fails"},{"function":"mk_group_dir","message_template":"mk_group_dir %s perm set","reason":"Debug information about setting permissions on a directory","resolution":"Informational message for debugging, no action needed"},{"function":"mk_group_dir","message_template":"mk_group_dir %d %s","reason":"An error occurred when creating or setting permissions on a directory","resolution":"Check file system permissions and that Apache has write access to the parent directory"},{"function":"pfs_save","message_template":"storing in %s","reason":"Debug information about storing data to a file","resolution":"Informational message for debugging, no action needed"},{"function":"pfs_remove","message_template":"start remove of md %s\/%s\/%s","reason":"Debug information about removing a file","resolution":"Informational message for debugging, no action needed"},{"function":"pfs_purge","message_template":"purge %s\/%s (%s)","reason":"Debug information about purging a directory and its contents","resolution":"Informational message for debugging, no action needed"},{"function":"insp","message_template":"inspecting value at: %s\/%s","reason":"Debug information during store iteration","resolution":"Informational message for debugging, no action needed"},{"function":"insp_dir","message_template":"inspecting dir at: %s\/%s","reason":"Debug information during store directory iteration","resolution":"Informational message for debugging, no action needed"},{"function":"insp_name","message_template":"inspecting name at: %s\/%s","reason":"Debug information during store name iteration","resolution":"Informational message for debugging, no action needed"},{"function":"remove_nms_file","message_template":"remove_nms file: %s\/%s","reason":"Debug information when removing files during cleanup","resolution":"Informational message for debugging, no action needed"},{"function":"remove_nms_dir","message_template":"remove_nms dir at: %s\/%s","reason":"Debug information when removing directories during cleanup","resolution":"Informational message for debugging, no action needed"},{"function":"pfs_move","message_template":"source is no dir: %s","reason":"An attempt to move a directory failed because the source is not a directory","resolution":"Verify that the source path exists and is a directory"},{"function":"pfs_move","message_template":"using archive dir: %s","reason":"Debug information about using a specific archive directory","resolution":"Informational message for debugging, no action needed"},{"function":"pfs_move","message_template":"creating archive dir: %s","reason":"Debug information about creating an archive directory","resolution":"Informational message for debugging, no action needed"},{"function":"pfs_move","message_template":"ran out of numbers less than 1000 while looking for an available one in %s to archive the data from %s. Either something is generally wrong or you need to clean up some of those directories.","reason":"The system has used up all available archive numbers (1-999) for a directory","resolution":"Clean up old archived directories in the store to free up archive numbers"},{"function":"pfs_move","message_template":"rename from %s to %s","reason":"Error occurred when trying to rename a directory","resolution":"Check file system permissions and that Apache has write access to both directories"},{"function":"pfs_move","message_template":"target is no dir: %s","reason":"An attempt to move to a target directory failed because the target is not a directory","resolution":"Verify that the target path doesn't exist or is a directory, not a file"},{"function":"fs_lock_global","message_template":"already locked globally","reason":"An attempt to acquire the global lock failed because it's already locked by this process","resolution":"This indicates a logic error in the code, report to developers"},{"function":"fs_lock_global","message_template":"acquire global lock: %s","reason":"Debug information about acquiring the global lock","resolution":"Informational message for debugging, no action needed"},{"function":"fs_lock_global","message_template":"unable to create\/open lock file: %s","reason":"Failed to create or open the lock file, possibly due to permissions","resolution":"Check file system permissions and that Apache has write access to the store directory"},{"function":"fs_lock_global","message_template":"unable to obtain lock on: %s","reason":"Failed to obtain the lock, possibly because another process holds it","resolution":"If this persists, check for hung Apache processes or manually remove the lock file after verifying no process is using it"}],"project":"apache\/httpd"}