{"module":"mod_rewrite.c","summary":"Apache's URL rewriting module that provides a rule-based rewriting engine for manipulating requested URLs on the fly. It supports various rewriting conditions, mapping lookups, redirects, and content handling based on pattern matching and substitution.","logs":[{"function":"apply_rewrite_cond","message_template":"RewriteCond URI (-U check: path=%s -> status=%d","reason":"Logs when a RewriteCond with -U flag (URL exists) is evaluated, showing the path being checked and the resulting HTTP status","resolution":"If the check unexpectedly fails, verify the path exists and is accessible to the server"},{"function":"apply_rewrite_cond","message_template":"RewriteCond file (-F check: path=%s -> file=%s status=%d","reason":"Logs when a RewriteCond with -F flag (file exists) is evaluated, showing the path, resulting filename, and status","resolution":"If the check unexpectedly fails, ensure the file exists and is accessible to the server with proper permissions"},{"function":"apply_rewrite_cond","message_template":"RewriteCond: expr='%s' evaluation failed: %s","reason":"Reports when an Apache expression used in a RewriteCond fails to evaluate","resolution":"Check the syntax of the expression and ensure all referenced variables exist"},{"function":"apply_rewrite_cond","message_template":"RewriteCond: input='%s' pattern='%s'%s => %s","reason":"Shows detailed information about a RewriteCond evaluation, including input, pattern, flags and result","resolution":"This is informational, but can help diagnose why conditions aren't matching as expected"},{"function":"apply_rewrite_rule","message_template":"remember %s to have MIME-type '%s'","reason":"Records when a file's MIME type is forced through a RewriteRule with [T=mimetype] flag","resolution":"This is informational, but if content appears incorrectly in the browser, check that the forced MIME type is appropriate"},{"function":"apply_rewrite_rule","message_template":"remember %s to have Content-handler '%s'","reason":"Records when a file's content handler is forced through a RewriteRule with [H=handler] flag","resolution":"This is informational, but if content is handled incorrectly, verify the handler is correctly configured"},{"function":"apply_rewrite_rule","message_template":"rewrite '%s' -> '%s'","reason":"Shows the result of a rewrite rule substitution, displaying original URL and rewritten URL","resolution":"This is informational for tracking URL transformations"},{"function":"lookup_map_txtfile","message_template":"mod_rewrite: can't open text RewriteMap file %s","reason":"Reports failure to open a text file used for RewriteMap","resolution":"Verify the file exists, has correct permissions, and the path is correct in the configuration"},{"function":"lookup_map_dbmfile","message_template":"mod_rewrite: can't load DBM library '%s': %s","reason":"Indicates failure to load the DBM library needed for DBM-based RewriteMaps","resolution":"Check that the specified DBM library is installed and compatible with your Apache build"},{"function":"lookup_map_dbmfile","message_template":"mod_rewrite: can't open DBM RewriteMap %s","reason":"Reports failure to open a DBM file used for RewriteMap","resolution":"Ensure the DBM file exists, has correct permissions, and the path is correct in the configuration"},{"function":"lookup_map_dbd","message_template":"rewritemap: No db handle available! Check your database access","reason":"Reports that database access failed when using a DBD-based RewriteMap","resolution":"Verify database connectivity, credentials, and that mod_dbd is properly configured"},{"function":"lookup_map_dbd","message_template":"rewritemap: error %s querying for %s","reason":"Indicates a database error occurred during a DBD-based RewriteMap lookup","resolution":"Check the database error message, verify the SQL query syntax, and ensure the database is operational"},{"function":"lookup_map_dbd","message_template":"rewritemap: error %s looking up %s","reason":"Reports an error when trying to fetch results from a database query in a DBD-based RewriteMap","resolution":"Examine the database error message and verify database connectivity and permissions"},{"function":"lookup_map_dbd","message_template":"Multiple values found for %s","reason":"Indicates that a DBD-based RewriteMap lookup returned multiple results where one was expected","resolution":"Modify your SQL query to ensure it returns a single value or understand that one will be randomly selected"},{"function":"lookup_map_program","message_template":"apr_global_mutex_lock(rewrite_mapr_lock_acquire) failed","reason":"Reports a failure to acquire a mutex lock when executing an external program RewriteMap","resolution":"This may indicate system resource issues or concurrency problems; check system resources and Apache error logs"},{"function":"lookup_map_program","message_template":"apr_global_mutex_unlock(rewrite_mapr_lock_acquire) failed","reason":"Reports a failure to release a mutex lock after executing an external program RewriteMap","resolution":"This indicates a serious threading issue; check system resources and Apache error logs"},{"function":"lookup_map","message_template":"cache lookup FAILED, forcing new map lookup","reason":"Indicates that a cached RewriteMap lookup failed and a fresh lookup will be performed","resolution":"This is informational, but frequent cache misses may impact performance"},{"function":"lookup_map","message_template":"map lookup FAILED: map=%s[txt] key=%s","reason":"Reports failure to find a key in a text-based RewriteMap","resolution":"Verify the key exists in the map file and the file is properly formatted"},{"function":"lookup_map","message_template":"map lookup OK: map=%s[txt] key=%s -> val=%s","reason":"Shows successful lookup of a key in a text-based RewriteMap","resolution":"This is informational for tracing map operations"},{"function":"lookup_map","message_template":"cache lookup OK: map=%s[txt] key=%s -> val=%s","reason":"Indicates a successful cached lookup in a text-based RewriteMap","resolution":"This is informational for tracing cache operations"},{"function":"lookup_map","message_template":"randomly chosen the subvalue `%s'","reason":"Shows which value was randomly selected from a pipe-separated list in a RewriteMap result","resolution":"This is informational; if a specific value should always be used, remove the random map type or pipe separation"},{"function":"lookup_map","message_template":"mod_rewrite: can't access DBM RewriteMap file %s","reason":"Reports that a DBM file used for RewriteMap cannot be accessed","resolution":"Verify the file exists, has correct permissions, and the path is correct in the configuration"},{"function":"lookup_map","message_template":"map lookup FAILED: map=%s[dbm] key=%s","reason":"Reports failure to find a key in a DBM-based RewriteMap","resolution":"Check that the key exists in the DBM file and the file format is correct"},{"function":"lookup_map","message_template":"map lookup OK: map=%s[dbm] key=%s -> val=%s","reason":"Shows successful lookup of a key in a DBM-based RewriteMap","resolution":"This is informational for tracing map operations"},{"function":"lookup_map","message_template":"SQL map lookup FAILED: map %s key=%s","reason":"Reports failure to find a key in a SQL-based RewriteMap","resolution":"Check that the key exists in the database and the SQL query is correct"},{"function":"lookup_map","message_template":"SQL map lookup OK: map %s key=%s, val=%s","reason":"Shows successful lookup of a key in a SQL-based RewriteMap","resolution":"This is informational for tracing map operations"},{"function":"do_expand_env","message_template":"unsetting env variable '%s'","reason":"Records when an environment variable is unset through [E=!varname]","resolution":"This is informational; if variables are unexpectedly missing, check for unset operations in RewriteRules"},{"function":"do_expand_env","message_template":"setting env variable '%s' to '%s'","reason":"Records when an environment variable is set through [E=varname:value]","resolution":"This is informational for tracking environment variable changes"},{"function":"add_cookie","message_template":"setting cookie '%s'","reason":"Records when a cookie is set through [CO=name:value:domain:lifetime:path...]","resolution":"This is informational for tracking cookie operations"},{"function":"add_cookie","message_template":"skipping already set cookie '%s'","reason":"Indicates a cookie was not set because it was already set earlier in the request","resolution":"If the cookie needs to be updated, ensure no previous rules set it, or modify the original setting"},{"function":"rewritelock_create","message_template":"mod_rewrite: could not init rewrite_mapr_lock_acquire","reason":"Reports failure to initialize the global mutex lock used for external program RewriteMaps","resolution":"Check system resources and permissions; may require Apache restart with fewer modules or connections"},{"function":"init_child","message_template":"mod_rewrite: could not init rewrite_mapr_lock_acquire in child","reason":"Reports failure to initialize the mutex lock in a child process","resolution":"This indicates a resource issue or permission problem for child processes; check Apache and system logs"},{"function":"init_child","message_template":"mod_rewrite: could not init map cache in child","reason":"Reports failure to initialize the RewriteMap cache in a child process","resolution":"This may indicate memory allocation problems; check system resources and Apache memory settings"},{"function":"hook_uri2file","message_template":"Declining, no further rewriting due to END flag","reason":"Indicates that rewriting was stopped because a rule with the [END] flag was matched","resolution":"This is informational; if rules after an [END] flag should be processed, either remove the flag or reorganize rules"},{"function":"hook_uri2file","message_template":"Declining, request-URI '%s' is not a URL-path. Consult the manual entry for the RewriteOptions directive for options and caveats about matching other strings.","reason":"Indicates that the request URI doesn't look like a URL path so rewriting was skipped for security reasons","resolution":"If legitimate requests are being declined, consider enabling the 'RewriteOptions AnyURI' option, but be aware of security implications"},{"function":"hook_uri2file","message_template":"attempt to make remote request from mod_rewrite without proxy enabled: %s","reason":"Reports an attempt to use [P] flag for proxy passthrough when mod_proxy is not enabled","resolution":"Enable mod_proxy or remove the [P] flag from your RewriteRules"},{"function":"hook_uri2file","message_template":"Rewritten query string contains control characters or spaces","reason":"Reports potentially dangerous characters in a rewritten query string","resolution":"Examine your RewriteRule patterns and make sure they properly escape query parameters or use the [B] flag"},{"function":"hook_uri2file","message_template":"Unsafe URL with %%3f URL rewritten without UnsafeAllow3F","reason":"Reports a potentially unsafe URL with encoded question mark, which was blocked","resolution":"If this is intentional, add the [UnsafeAllow3F] flag to your RewriteRule, but be aware of potential security implications"},{"function":"hook_fixup","message_template":"Options FollowSymLinks and SymLinksIfOwnerMatch are both off, so the RewriteRule directive is also forbidden due to its similar ability to circumvent directory restrictions : %s","reason":"Reports that rewrite rules were blocked because both FollowSymLinks and SymLinksIfOwnerMatch options are disabled","resolution":"Enable either FollowSymLinks or SymLinksIfOwnerMatch option in your configuration to allow mod_rewrite to function"},{"function":"apply_rewrite_rule","message_template":"RewriteRule '%s' and URI '%s' exceeded maximum length (%d)","reason":"Reports that a rewrite rule generated a URL that exceeds the maximum length limit","resolution":"Modify your RewriteRule to generate shorter URLs or increase LimitRequestLine directive value"},{"function":"apply_rewrite_list","message_template":"RewriteRule '%s' and URI '%s' exceeded maximum number of rounds (%d) via the [N] flag","reason":"Reports that a rewrite rule with the [N] flag has exceeded the maximum iteration limit","resolution":"This usually indicates an infinite loop in your rewrite rules; modify the rule conditions to ensure termination"},{"function":"run_rewritemap_programs","message_template":"mod_rewrite: could not start RewriteMap program %s","reason":"Reports failure to start an external program for a prg: RewriteMap","resolution":"Verify the program exists, is executable, and the path is correct; check system permissions and resources"},{"function":"post_config","message_template":"mod_rewrite: could not init map cache in child","reason":"Reports failure to initialize the RewriteMap cache during server startup","resolution":"This may indicate memory allocation problems; check system resources and Apache memory settings"},{"function":"cmd_rewritemap","message_template":"RewriteMap: bad path to txt map: %s","reason":"Reports an invalid path specified for a text RewriteMap","resolution":"Provide a valid file path relative to ServerRoot or an absolute path"},{"function":"cmd_rewritemap","message_template":"RewriteMap: bad path to rnd map: %s","reason":"Reports an invalid path specified for a randomized text RewriteMap","resolution":"Provide a valid file path relative to ServerRoot or an absolute path"},{"function":"cmd_rewritemap","message_template":"RewriteMap: bad map: %s","reason":"Reports an invalid format or syntax for a RewriteMap definition","resolution":"Correct the syntax of your RewriteMap directive following the documentation"},{"function":"cmd_rewritemap","message_template":"RewriteMap: dbm type %s is invalid","reason":"Reports that the specified DBM type is not supported","resolution":"Use a supported DBM type like default, sdbm, gdbm, ndbm, or db depending on your platform"},{"function":"cmd_rewritemap","message_template":"RewriteMap types dbd and fastdbd require mod_dbd!","reason":"Reports an attempt to use DBD-based RewriteMaps without mod_dbd enabled","resolution":"Enable mod_dbd in your Apache configuration or use a different RewriteMap type"},{"function":"cmd_rewritemap","message_template":"RewriteMap: bad path to prg map: %s","reason":"Reports an invalid path specified for a program RewriteMap","resolution":"Provide a valid executable path relative to ServerRoot or an absolute path"},{"function":"cmd_rewritemap","message_template":"RewriteMap: internal map not found: %s","reason":"Reports a reference to a non-existent internal function map","resolution":"Use only supported internal maps like toupper, tolower, escape, or unescape"},{"function":"cmd_rewritemap","message_template":"RewriteMap: file for map %s not found: %s","reason":"Reports that the file specified for a RewriteMap cannot be found","resolution":"Verify the file exists and the path is correct relative to ServerRoot"},{"function":"cmd_rewriteoptions","message_template":"RewriteOptions: unknown option '%s'","reason":"Reports an unrecognized option provided to RewriteOptions directive","resolution":"Use only supported options like Inherit, InheritDown, IgnoreInherit, AllowNoSlash, MergeBase, etc."},{"function":"cmd_rewriteoptions","message_template":"RewriteOptions: MaxRedirects option has been removed in favor of the global LimitInternalRecursion directive and will be ignored.","reason":"Reports use of the deprecated MaxRedirects option in RewriteOptions","resolution":"Use the global LimitInternalRecursion directive instead to control recursion limits"},{"function":"cmd_rewritebase","message_template":"RewriteBase: only valid in per-directory config files","reason":"Reports attempt to use RewriteBase in server context rather than directory context","resolution":"Move the RewriteBase directive to a <Directory> section or .htaccess file"},{"function":"cmd_rewritebase","message_template":"RewriteBase: empty URL not allowed","reason":"Reports an empty value provided to RewriteBase directive","resolution":"Provide a non-empty URL path for RewriteBase, typically starting with \/"},{"function":"cmd_rewritebase","message_template":"RewriteBase: argument is not a valid URL","reason":"Reports an invalid URL format provided to RewriteBase directive","resolution":"Use a valid URL path starting with \/ for RewriteBase directive"}],"project":"apache\/httpd"}