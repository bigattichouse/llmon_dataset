{"module":"mod_proxy_hcheck.c","summary":"Apache module that implements health checks for backend proxy servers. It supports various health check methods like OPTIONS, HEAD, GET, TCP checks, and AJP ping, allowing automatic disabling\/enabling of servers based on health status.","logs":[{"function":"set_worker_hc_param","message_template":"Bad call to set_worker_hc_param()","reason":"Function was called with invalid parameters (missing worker or context)","resolution":"Check the code that calls this function and ensure worker and context are properly provided"},{"function":"set_worker_hc_param","message_template":"Unknown ProxyHCTemplate name: %s","reason":"Configuration references a health check template that doesn't exist","resolution":"Verify that the template name is correctly spelled and defined with ProxyHCTemplate in the configuration"},{"function":"set_worker_hc_param","message_template":"Health check method %s not (yet) implemented","reason":"Configuration specifies a health check method that isn't implemented by this module","resolution":"Use one of the supported health check methods (TCP, OPTIONS, HEAD, GET, CPING) or wait for a newer version with the desired method implemented"},{"function":"set_worker_hc_param","message_template":"Unknown method","reason":"Configuration specifies an unrecognized health check method","resolution":"Check the configuration and use a supported health check method (TCP, OPTIONS, HEAD, GET, CPING)"},{"function":"set_worker_hc_param","message_template":"Unparse-able hcinterval setting","reason":"The health check interval setting couldn't be parsed as a valid time value","resolution":"Check the hcinterval value in the configuration, it should be a number followed by a time unit (e.g., '5s')"},{"function":"set_worker_hc_param","message_template":"Interval must be a positive value greater than %ms","reason":"The health check interval is too short to be practical","resolution":"Set a longer interval in the configuration, at least greater than the minimum threshold (typically the watchdog slice time)"},{"function":"set_worker_hc_param","message_template":"Passes must be a positive value","reason":"The number of passes required to mark a worker as healthy is negative or zero","resolution":"Set a positive integer value for the hcpasses parameter in the configuration"},{"function":"set_worker_hc_param","message_template":"Fails must be a positive value","reason":"The number of fails required to mark a worker as unhealthy is negative or zero","resolution":"Set a positive integer value for the hcfails parameter in the configuration"},{"function":"set_worker_hc_param","message_template":"Health check uri length must be < %d characters","reason":"The health check URI specified is too long for the internal storage buffer","resolution":"Use a shorter URI for health checks in the configuration"},{"function":"set_worker_hc_param","message_template":"Unknown health check condition expr: %s","reason":"The health check expression referenced doesn't exist in the defined conditions","resolution":"Define the referenced expression using ProxyHCExpr before using it, or check for typos in the expression name"},{"function":"set_worker_hc_param","message_template":"unknown Worker hcheck parameter","reason":"An unrecognized parameter was specified for health check configuration","resolution":"Check the configuration for typos and use only supported parameters (hcmethod, hcinterval, hcpasses, hcfails, hcuri, hcexpr, hctemplate)"},{"function":"set_hc_condition","message_template":"Missing expression name for %s","reason":"A ProxyHCExpr directive was specified without a name for the expression","resolution":"Provide a name for the expression in the ProxyHCExpr directive"},{"function":"set_hc_condition","message_template":"Expression name limited to %d characters","reason":"The name for the health check expression is too long","resolution":"Use a shorter name for the expression, within the character limit shown in the error message"},{"function":"set_hc_condition","message_template":"Missing expression for %s","reason":"A ProxyHCExpr directive was specified with a name but without an actual expression","resolution":"Provide the actual expression in the ProxyHCExpr directive after the name"},{"function":"set_hc_condition","message_template":"Could not parse expression \"%s\": %s","reason":"The expression syntax is invalid or contains an error","resolution":"Check the expression syntax against Apache's expression parser requirements and correct the error mentioned"},{"function":"set_hc_condition","message_template":"error: extra parameter(s)","reason":"Too many parameters were provided to the ProxyHCExpr directive","resolution":"The ProxyHCExpr directive should only have a name and an expression, remove any additional parameters"},{"function":"set_hc_template","message_template":"Missing template name for %s","reason":"A ProxyHCTemplate directive was specified without a name","resolution":"Provide a name for the template in the ProxyHCTemplate directive"},{"function":"set_hc_template","message_template":"Invalid ProxyHCTemplate parameter. Parameter must be in the form 'key=value'","reason":"A parameter in a ProxyHCTemplate directive is not properly formatted as key=value","resolution":"Check the syntax of the parameters in the ProxyHCTemplate directive and ensure they follow the key=value format"},{"function":"set_hc_template","message_template":"ProxyHCTemplate: %s %s=%s; %s","reason":"Error occurred while processing a ProxyHCTemplate parameter","resolution":"Check the specific error message and the parameter mentioned and correct the issue in your configuration"},{"function":"set_hc_tpsize","message_template":"Invalid ProxyHCTPsize parameter. Parameter must be >= 0","reason":"The thread pool size specified is negative","resolution":"Set a non-negative integer value for the ProxyHCTPsize directive"},{"function":"hc_get_hcworker","message_template":"Creating hc worker %pp for %s:\/\/%s:%d","reason":"Informational message when a new health check worker is created","resolution":"Information log, no resolution required"},{"function":"hc_get_hcworker","message_template":"Updating hc worker %pp for %s:\/\/%s:%d","reason":"Informational message when an existing health check worker is updated","resolution":"Information log, no resolution required"},{"function":"hc_determine_connection","message_template":"DNS lookup failure for: %s:%hu","reason":"Could not resolve the hostname of a backend server during health check","resolution":"Check DNS settings and ensure the hostname is correctly spelled and resolvable from the Apache server"},{"function":"backend_cleanup","message_template":"Health check %s Status (%d) for %s.","reason":"Reports the status of a health check for a backend server","resolution":"Information log, no resolution required unless status is not OK, in which case investigate the specific backend server"},{"function":"hc_get_backend","message_template":"mod_ssl not configured?","reason":"Attempting to use HTTPS\/WSS health checks without mod_ssl being loaded","resolution":"Ensure mod_ssl is loaded in your Apache configuration if you need to use HTTPS\/WSS health checks"},{"function":"hc_init_baton","message_template":"Cannot init worker","reason":"Failed to initialize a worker for health checking","resolution":"Check the server error log for more specific errors that might explain why the worker initialization failed"},{"function":"hc_check_http","message_template":"Error reading response body","reason":"Failed to read the response body from a backend server during HTTP health check","resolution":"Investigate the backend server for issues or consider using a simpler health check method like TCP or HEAD"},{"function":"hc_check_http","message_template":"Error on checking condition %s for %s (%s): %s","reason":"An error occurred while evaluating a health check condition expression","resolution":"Check the expression syntax and ensure it's valid for the response being evaluated"},{"function":"hc_check","message_template":"Somehow tried to use unimplemented hcheck method: %d","reason":"The code attempted to use a health check method that isn't implemented","resolution":"This is likely a code bug, but you can work around it by using a different health check method in your configuration"},{"function":"hc_check","message_template":"%sHealth check ENABLING %s","reason":"A previously failed backend server has passed enough health checks to be enabled again","resolution":"Information log, no resolution required, the backend server is now considered healthy"},{"function":"hc_check","message_template":"%sHealth check DISABLING %s","reason":"A previously healthy backend server has failed enough health checks to be disabled","resolution":"Investigate the backend server for issues that might be causing it to fail health checks"},{"function":"hc_watchdog_callback","message_template":"%s watchdog started.","reason":"The health check watchdog process has been started","resolution":"Information log, no resolution required"},{"function":"hc_watchdog_callback","message_template":"apr_thread_pool_create() with %d threads failed","reason":"Failed to create a thread pool for health checks with the specified number of threads","resolution":"Check system resources and possibly reduce the thread pool size in the configuration with ProxyHCTPsize"},{"function":"hc_watchdog_callback","message_template":"apr_thread_pool_create() with %d threads succeeded","reason":"Successfully created a thread pool for health checks","resolution":"Information log, no resolution required"},{"function":"hc_watchdog_callback","message_template":"Skipping apr_thread_pool_create()","reason":"Thread pool creation is being skipped, likely because it's not enabled or needed","resolution":"Information log, no resolution required"},{"function":"hc_watchdog_callback","message_template":"stopping %s watchdog.","reason":"The health check watchdog process is being stopped","resolution":"Information log, no resolution required"},{"function":"hc_watchdog_callback","message_template":"apr_thread_pool_destroy() failed","reason":"Failed to cleanly destroy the thread pool when stopping the watchdog","resolution":"This might indicate threads that didn't terminate properly, check for hung health checks or system resource issues"},{"function":"hc_post_config","message_template":"mod_watchdog is required","reason":"The module requires mod_watchdog which is not available","resolution":"Ensure mod_watchdog is loaded in your Apache configuration"},{"function":"hc_post_config","message_template":"Failed to create watchdog instance (%s)","reason":"Could not create a watchdog instance for health checks","resolution":"Check system resources and server configuration, possibly restart Apache"},{"function":"hc_post_config","message_template":"Missing unique per-server context: %s (%pp:%pp) (no hchecks)","reason":"Server context mismatch detected, health checks will not function for this server","resolution":"This is likely a code issue, try restarting Apache or check for module load order issues"},{"function":"hc_post_config","message_template":"Failed to register watchdog callback (%s)","reason":"Could not register the health check callback with the watchdog","resolution":"Check system resources and Apache configuration, possibly restart Apache"},{"function":"hc_post_config","message_template":"watchdog callback registered (%s for %s)","reason":"Successfully registered the health check callback with the watchdog","resolution":"Information log, no resolution required"},{"function":"hc_check","message_template":"%sHealth checking %s","reason":"Informational message when a health check is being performed on a backend server","resolution":"Information log, no resolution required"},{"function":"hc_check_http","message_template":"Condition %s for %s (%s): passed","reason":"A health check condition expression has evaluated to true (passed)","resolution":"Information log, no resolution required"},{"function":"hc_check_http","message_template":"Condition %s for %s (%s) : failed","reason":"A health check condition expression has evaluated to false (failed)","resolution":"Check the backend server for issues as it's failing the custom health check condition"},{"function":"hc_check_http","message_template":"Response status %i for %s (%s): failed","reason":"An HTTP health check has failed due to a non-2xx\/3xx status code","resolution":"Check the backend server for issues as it's returning error status codes"}],"project":"apache\/httpd"}