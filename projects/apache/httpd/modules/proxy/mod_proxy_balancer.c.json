{"module":"mod_proxy_balancer.c","summary":"This module implements load balancing for Apache's proxy module. It manages balancers and workers, tracks their status, applies load balancing algorithms, and provides a management interface for runtime configuration.","logs":[{"function":"proxy_balancer_canon","message_template":"canonicalising URL %s","reason":"Logs when the proxy is processing a URL that starts with 'balancer:' to convert it to the internal format","resolution":"Informational log, no resolution required"},{"function":"proxy_balancer_canon","message_template":"error parsing URL %s: %s","reason":"Indicates a failure to parse a balancer URL due to invalid format or syntax","resolution":"Check the URL format in your balancer configuration and ensure it follows the proper syntax"},{"function":"init_balancer_members","message_template":"Looking at %s -> %s initialized?","reason":"Logs when checking if a worker in a balancer has been initialized during setup","resolution":"Informational log, no resolution required"},{"function":"find_session_route","message_template":"Found value %s for stickysession %s","reason":"Logs when a sticky session value is found in the request URL or cookies","resolution":"Informational log, no resolution required"},{"function":"find_session_route","message_template":"Found route %s","reason":"Logs when a route is extracted from a sticky session","resolution":"Informational log, no resolution required"},{"function":"find_session_route","message_template":"Route changed from %s to %s","reason":"Logs when the route supplied by the client is different from the route of the worker chosen","resolution":"This may indicate session migration or failover. Check if the original worker is functioning properly"},{"function":"find_best_worker","message_template":"%s: Lock failed for find_best_worker()","reason":"Indicates a thread lock acquisition failure when trying to select the best worker","resolution":"This could indicate threading issues or resource contention. Check system resources and Apache MPM configuration"},{"function":"find_best_worker","message_template":"%s: Unlock failed for find_best_worker()","reason":"Indicates a thread lock release failure after selecting a worker","resolution":"This could indicate threading issues or resource corruption. Check system resources and Apache MPM configuration"},{"function":"force_recovery","message_template":"%s: Forcing recovery for worker (%s:%d)","reason":"Logs when the balancer is forcing a worker into recovery mode after it was in error state","resolution":"Check the affected worker for issues. This is an automatic recovery attempt"},{"function":"proxy_balancer_pre_request","message_template":"%s: Lock failed for pre_request","reason":"Indicates a thread lock acquisition failure before processing a request","resolution":"This could indicate threading issues or resource contention. Check system resources and Apache MPM configuration"},{"function":"proxy_balancer_pre_request","message_template":"%s: All workers are in error state for route (%s)","reason":"Logs when all workers for a specific route are in error state and sticky_force is enabled","resolution":"Check all backend servers for the specified route. Consider health check configuration. Service is unavailable for this route"},{"function":"proxy_balancer_pre_request","message_template":"%s: Unlock failed for pre_request","reason":"Indicates a thread lock release failure after preprocessing a request","resolution":"This could indicate threading issues or resource corruption. Check system resources and Apache MPM configuration"},{"function":"proxy_balancer_pre_request","message_template":"%s: All workers are in error state","reason":"Logs when all workers in a balancer are in error state","resolution":"All backend servers are unavailable. Check backend server health, network connectivity, and server logs"},{"function":"proxy_balancer_pre_request","message_template":"%s: No workers in balancer","reason":"Logs when a balancer has no defined workers","resolution":"Configure at least one worker for this balancer. Check your balancer configuration"},{"function":"proxy_balancer_pre_request","message_template":"%s: worker (%s) rewritten to %s","reason":"Logs when a URL is rewritten from balancer format to worker format","resolution":"Informational log, no resolution required"},{"function":"proxy_balancer_post_request","message_template":"%s: Lock failed for post_request","reason":"Indicates a thread lock acquisition failure after processing a request","resolution":"This could indicate threading issues or resource contention. Check system resources and Apache MPM configuration"},{"function":"proxy_balancer_post_request","message_template":"%s: Forcing worker (%s) into error state due to status code %d matching 'failonstatus' balancer parameter","reason":"Logs when a worker is put into error state because it returned an HTTP status code matching the failonstatus parameter","resolution":"Check the backend server for the specific error. Examine server logs for the corresponding status code"},{"function":"proxy_balancer_post_request","message_template":"%s: Forcing worker (%s) into error state due to timeout and 'failontimeout' parameter being set","reason":"Logs when a worker is put into error state because it timed out and failontimeout is enabled","resolution":"Check the backend server for performance issues or connectivity problems. Consider increasing timeout values if appropriate"},{"function":"proxy_balancer_post_request","message_template":"%s: Unlock failed for post_request","reason":"Indicates a thread lock release failure after post-processing a request","resolution":"This could indicate threading issues or resource corruption. Check system resources and Apache MPM configuration"},{"function":"proxy_balancer_post_request","message_template":"proxy_balancer_post_request for (%s)","reason":"Debug log indicating post-request processing for a balancer","resolution":"Informational log, no resolution required"},{"function":"balancer_post_config","message_template":"Doing balancers create: %d, %d (%d)","reason":"Debug log showing balancer creation details including sizes and counts","resolution":"Informational log, no resolution required"},{"function":"balancer_post_config","message_template":"balancer slotmem_create failed","reason":"Indicates a failure to create shared memory for balancer data","resolution":"Check system resources, particularly memory. Verify that mod_slotmem_shm is loaded"},{"function":"balancer_post_config","message_template":"mutex creation of %s : %s failed","reason":"Logs a failure to create a mutex for balancer synchronization","resolution":"Check system resources and permissions. May indicate threading or IPC issues"},{"function":"balancer_post_config","message_template":"balancer slotmem_fgrab failed","reason":"Indicates a failure to grab a specific slot in shared memory for balancer data","resolution":"Check system resources, particularly memory. Verify that mod_slotmem_shm is loaded"},{"function":"balancer_post_config","message_template":"balancer slotmem_grab failed","reason":"Indicates a failure to grab a slot in shared memory for balancer data","resolution":"Check system resources, particularly memory. Verify that mod_slotmem_shm is loaded"},{"function":"balancer_post_config","message_template":"balancer slotmem_dptr failed","reason":"Indicates a failure to get a pointer to shared memory data for a balancer","resolution":"Check system resources, particularly memory. Verify that mod_slotmem_shm is loaded"},{"function":"balancer_post_config","message_template":"Cannot share balancer","reason":"Logs a failure to share balancer data in shared memory","resolution":"Check system resources and shared memory settings. Verify that mod_slotmem_shm is working properly"},{"function":"balancer_post_config","message_template":"Doing workers create: %s (%s), %d, %d [%u]","reason":"Debug log showing worker creation details including names, sizes, and counts","resolution":"Informational log, no resolution required"},{"function":"balancer_post_config","message_template":"worker slotmem_create failed","reason":"Indicates a failure to create shared memory for worker data","resolution":"Check system resources, particularly memory. Verify that mod_slotmem_shm is loaded"},{"function":"balancer_post_config","message_template":"worker slotmem_fgrab failed","reason":"Indicates a failure to grab a specific slot in shared memory for worker data","resolution":"Check system resources, particularly memory. Verify that mod_slotmem_shm is loaded"},{"function":"balancer_post_config","message_template":"worker slotmem_grab failed","reason":"Indicates a failure to grab a slot in shared memory for worker data","resolution":"Check system resources, particularly memory. Verify that mod_slotmem_shm is loaded"},{"function":"balancer_post_config","message_template":"worker slotmem_dptr failed","reason":"Indicates a failure to get a pointer to shared memory data for a worker","resolution":"Check system resources, particularly memory. Verify that mod_slotmem_shm is loaded"},{"function":"balancer_post_config","message_template":"Cannot share worker","reason":"Logs a failure to share worker data in shared memory","resolution":"Check system resources and shared memory settings. Verify that mod_slotmem_shm is working properly"},{"function":"balancer_process_balancer_worker","message_template":"settings worker params","reason":"Debug log indicating worker parameter settings are being processed","resolution":"Informational log, no resolution required"},{"function":"balancer_process_balancer_worker","message_template":"settings balancer params","reason":"Debug log indicating balancer parameter settings are being processed","resolution":"Informational log, no resolution required"},{"function":"balancer_process_balancer_worker","message_template":"%s: Lock failed for adding worker","reason":"Indicates a thread lock acquisition failure when adding a worker to a balancer","resolution":"This could indicate threading issues or resource contention. Check system resources and Apache MPM configuration"},{"function":"balancer_process_balancer_worker","message_template":"worker slotmem_grab failed","reason":"Indicates a failure to grab shared memory for a new worker when adding it to a balancer","resolution":"Check system resources, particularly memory. Verify that mod_slotmem_shm is loaded"},{"function":"balancer_process_balancer_worker","message_template":"worker slotmem_dptr failed","reason":"Indicates a failure to get a pointer to shared memory for a new worker","resolution":"Check system resources, particularly memory. Verify that mod_slotmem_shm is loaded"},{"function":"balancer_process_balancer_worker","message_template":"Cannot share worker","reason":"Logs a failure to share worker data in shared memory when adding a new worker","resolution":"Check system resources and shared memory settings. Verify that mod_slotmem_shm is working properly"},{"function":"balancer_process_balancer_worker","message_template":"Cannot init worker","reason":"Logs a failure to initialize a newly added worker","resolution":"Check the worker configuration. Ensure the backend server exists and is properly specified"},{"function":"balancer_process_balancer_worker","message_template":"%s: failed to add worker %s","reason":"Indicates a failure to add a new worker to a balancer","resolution":"Check the worker configuration and system resources. Verify the syntax of the worker definition"},{"function":"balancer_manage","message_template":"balancer_manage balancer: %s","reason":"Debug log showing a balancer management operation is being performed","resolution":"Informational log, no resolution required"},{"function":"balancer_manage","message_template":"balancer_manage worker: %s","reason":"Debug log showing a worker management operation is being performed","resolution":"Informational log, no resolution required"},{"function":"balancer_manage","message_template":"balancer_manage failed: No balancer!","reason":"Logs when a management operation fails because no balancer was specified or found","resolution":"Check the balancer name in your management request. Ensure the balancer exists in your configuration"},{"function":"balancer_display_page","message_template":"genning page","reason":"Debug log indicating the balancer manager page is being generated","resolution":"Informational log, no resolution required"},{"function":"balancer_handler","message_template":"parsing r->args","reason":"Debug log showing parsing of request arguments in the balancer manager","resolution":"Informational log, no resolution required"},{"function":"balancer_handler","message_template":"ignoring params in balancer-manager cross-site access","reason":"Security log indicating parameters are being ignored due to potential cross-site request forgery","resolution":"This is a security protection. If you're trying to manage the balancer, ensure you're coming from the same host"},{"function":"balancer_handler","message_template":"%s: Lock failed for balancer_handler","reason":"Indicates a thread lock acquisition failure in the balancer management handler","resolution":"This could indicate threading issues or resource contention. Check system resources and Apache MPM configuration"},{"function":"balancer_handler","message_template":"%s: Unlock failed for balancer_handler","reason":"Indicates a thread lock release failure in the balancer management handler","resolution":"This could indicate threading issues or resource corruption. Check system resources and Apache MPM configuration"},{"function":"balancer_child_init","message_template":"slotmem_attach failed","reason":"Indicates a failure to attach to shared memory in a child process","resolution":"Check system resources, particularly shared memory. Verify that mod_slotmem_shm is loaded and configured correctly"},{"function":"balancer_child_init","message_template":"Failed to init balancer %s in child","reason":"Logs a failure to initialize a balancer in a child process","resolution":"Check balancer configuration and system resources. May indicate issues with shared memory or mutex creation"},{"function":"balancer_pre_config","message_template":"mod_proxy must be loaded for mod_proxy_balancer","reason":"Error log indicating mod_proxy_balancer requires mod_proxy to be loaded","resolution":"Ensure mod_proxy is loaded in your Apache configuration. Add 'LoadModule proxy_module ...' before mod_proxy_balancer"},{"function":"balancer_pre_config","message_template":"Failed to lookup provider 'shm' for '%s': is mod_slotmem_shm loaded??","reason":"Error log indicating the shared memory provider (mod_slotmem_shm) is required but not found","resolution":"Ensure mod_slotmem_shm is loaded in your Apache configuration. Add 'LoadModule slotmem_shm_module ...'"}],"project":"apache\/httpd"}