{"project":"sendmail","module":"test\/t_seteuid.c","summary":"This test program checks if seteuid() functions correctly on the system. It must be run as a non-root user with set-user-ID root privileges to verify if the system can properly switch between effective user IDs, which is necessary for determining if USESETEUID should be defined in sendmail's configuration.","logs":[{"function":"printuids","message_template":"%s (should be %d\/%d): r\/euid=%d\/%d\n","reason":"Displays current real and effective user IDs along with the expected values at different stages of the test","resolution":"Informational message that helps diagnose any issues with user ID switching; no resolution required unless values don't match expected values"},{"function":"main","message_template":"SETUP ERROR: re-run set-user-ID root\n","reason":"The program must be run as set-user-ID root but the effective UID is not 0","resolution":"Ensure the executable has the setuid bit set and is owned by root using 'chown root t_seteuid; chmod u+s t_seteuid'"},{"function":"main","message_template":"SETUP ERROR: must be run by a non-root user\n","reason":"The program must be run by a regular user, not by root, to properly test seteuid functionality","resolution":"Run the program as a regular user (not root) after setting up the setuid permissions correctly"},{"function":"main","message_template":"seteuid(1) failure\n","reason":"The seteuid(1) call failed to change effective user ID to 1","resolution":"This likely indicates a system limitation or permission issue. Check if the system supports saved set-user-ID and proper permissions"},{"function":"main","message_template":"MAYDAY!  Wrong effective uid\n","reason":"The effective user ID after seteuid() call doesn't match the expected value, indicating seteuid() isn't working properly","resolution":"This indicates the system cannot reliably use seteuid; do not define USESETEUID in sendmail's conf.h"},{"function":"main","message_template":"seteuid(0) failure\n","reason":"The seteuid(0) call failed to change effective user ID back to root (0)","resolution":"This indicates a system limitation or a kernel security restriction; do not define USESETEUID in sendmail's conf.h"},{"function":"main","message_template":"MAYDAY!  Wrong real uid\n","reason":"The real user ID was changed when it should remain the same, indicating improper behavior of seteuid()","resolution":"This indicates the system has a faulty implementation of seteuid; do not define USESETEUID in sendmail's conf.h"},{"function":"main","message_template":"seteuid(2) failure\n","reason":"The seteuid(2) call failed to change effective user ID to 2","resolution":"This likely indicates a system limitation or permission issue. Check if the system supports saved set-user-ID and proper permissions"},{"function":"main","message_template":"This system cannot use seteuid\n","reason":"One or more tests failed, indicating that seteuid() functionality is not reliable on this system","resolution":"Do not define USESETEUID in sendmail's conf.h; the system will need to use other mechanisms for privilege management"},{"function":"main","message_template":"It is safe to define USESETEUID on this system\n","reason":"All tests passed, confirming that seteuid() works correctly on this system","resolution":"You can safely define USESETEUID in sendmail's conf.h configuration, which may improve security and performance"}]}